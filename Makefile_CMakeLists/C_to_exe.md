# C源码到可执行文件的流程
**有如下几个步骤**
## 预处理
作为简单的预备工作，比如说将注释替换为空行，把#include展开（这会导致前面出现非常长的代码）,替换宏定义，编译条件并去掉不可能符合的片段。这一步一般不会单独生成文件，但是也可以令保存为.txt文件（.i文件也可以，内容相同，只是简单预处理）。
## 编译
这一步将预处理过的代码编译（也可以成为翻译）成编译语言（S文件）。这一步会检查基本的语法，暂时不管逻辑，有语法错误就会报错，编译结束。这一步还会生成中间代码，优化代码（如进行简单的加减乘除运算，优化重复计算的代码）最终把代码转换为汇编指令，汇编语言代码（不同的硬件架构会有不同的结果）。汇编语言已经比较接近机器语言了，不过人学习了过后还是可以看得懂的，比全是0/1还得好很多的。
## 汇编
这个过程把汇编语言(.s)代码转换为机器可以运行的二进制机器语言（.o）。由于之前生成了汇编指令，而每个汇编指令和一块格式相对固定的二进制机器语言有着对应关系，汇编只需要逐一地把每一条指令翻译为二进制的机器语言（如汇编语言中add表示加法，如寄存器和寄存器之间的加法在机器语言中操作码就是00000001，如果是直接的数字那么操作码还不一样）。

